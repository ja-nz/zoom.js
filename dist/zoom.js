/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/* unknown exports provided */
/* all exports used */
/*!*********************!*\
  !*** ./src/zoom.js ***!
  \*********************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Pure JavaScript implementation of zoom.js.\n *\n * Original preamble:\n * zoom.js - It's the best way to zoom an image\n * @version v0.0.2\n * @link https://github.com/fat/zoom.js\n * @license MIT\n *\n * Needs a related CSS file to work. See the README at\n * https://github.com/nishanths/zoom.js for more info.\n *\n * This is a fork of the original zoom.js implementation by @fat.\n * Copyrights for the original project are held by @fat. All other copyright\n * for changes in the fork are held by Nishanth Shanmugham.\n *\n * Copyright (c) 2013 @fat\n * The MIT License. Copyright Â© 2016 Nishanth Shanmugham.\n */\n\nvar current = null;\nvar offset = 80;\nvar initialScrollPos = -1;\nvar initialTouchPos = -1;\nvar windowWidth = document.documentElement.clientWidth;\n\nvar elemOffset = function elemOffset(elem) {\n    var rect = elem.getBoundingClientRect();\n    var docElem = document.documentElement;\n    var win = window;\n    return {\n        top: rect.top + win.pageYOffset - docElem.clientTop,\n        left: rect.left + win.pageXOffset - docElem.clientLeft\n    };\n};\n\nvar once = function once(elem, type, handler) {\n    var fn = function fn(e) {\n        e.target.removeEventListener(type, fn);\n        handler();\n    };\n    elem.addEventListener(type, fn);\n};\n\nvar Size = function Size(w, h) {\n    _classCallCheck(this, Size);\n\n    this.w = w;\n    this.h = h;\n};\n\nvar ZoomImage = function () {\n    function ZoomImage(img, offset) {\n        _classCallCheck(this, ZoomImage);\n\n        this.img = img;\n        this.preservedTransform = img.style.transform;\n        this.wrap = null;\n        this.overlay = null;\n        this.offset = offset;\n        this.windowWidth = document.documentElement.clientWidth;\n        this.windowHeight = document.documentElement.clientHeight;\n    }\n\n    _createClass(ZoomImage, [{\n        key: \"forceRepaint\",\n        value: function forceRepaint() {\n            var _ = this.img.offsetWidth;\n            return;\n        }\n    }, {\n        key: \"zoom\",\n        value: function zoom() {\n            var size = new Size(this.img.naturalWidth, this.img.naturalHeight);\n\n            this.wrap = document.createElement(\"div\");\n            this.wrap.classList.add(\"zoom-img-wrap\");\n            this.img.parentNode.insertBefore(this.wrap, this.img);\n            this.wrap.appendChild(this.img);\n\n            this.img.classList.add(\"zoom-img\");\n            this.img.setAttribute(\"data-action\", \"zoom-out\");\n\n            this.overlay = document.createElement(\"div\");\n            this.overlay.classList.add(\"zoom-overlay\");\n            document.body.appendChild(this.overlay);\n\n            this.forceRepaint();\n            var scale = this.calculateScale(size);\n\n            this.forceRepaint();\n            this.animate(scale);\n\n            document.body.classList.add(\"zoom-overlay-open\");\n        }\n    }, {\n        key: \"calculateScale\",\n        value: function calculateScale(size) {\n            var maxScaleFactor = size.w / this.img.width;\n\n            var viewportWidth = this.windowWidth - this.offset;\n            var viewportHeight = this.windowHeight - this.offset;\n            var imageAspectRatio = size.w / size.h;\n            var viewportAspectRatio = viewportWidth / viewportHeight;\n\n            if (size.w < viewportWidth && size.h < viewportHeight) {\n                return maxScaleFactor;\n            } else if (imageAspectRatio < viewportAspectRatio) {\n                return viewportHeight / size.h * maxScaleFactor;\n            } else {\n                return viewportWidth / size.w * maxScaleFactor;\n            }\n        }\n    }, {\n        key: \"animate\",\n        value: function animate(scale) {\n            var imageOffset = elemOffset(this.img);\n            var scrollTop = window.pageYOffset;\n\n            var viewportX = this.windowWidth / 2;\n            var viewportY = scrollTop + this.windowHeight / 2;\n\n            var imageCenterX = imageOffset.left + this.img.width / 2;\n            var imageCenterY = imageOffset.top + this.img.height / 2;\n\n            var tx = viewportX - imageCenterX;\n            var ty = viewportY - imageCenterY;\n            var tz = 0;\n\n            var imgTr = \"scale(\" + scale + \")\";\n            var wrapTr = \"translate3d(\" + tx + \"px, \" + ty + \"px, \" + tz + \"px)\";\n\n            this.img.style.transform = imgTr;\n            this.wrap.style.transform = wrapTr;\n        }\n    }, {\n        key: \"dispose\",\n        value: function dispose() {\n            if (this.wrap == null || this.wrap.parentNode == null) {\n                return;\n            }\n            this.img.classList.remove(\"zoom-img\");\n            this.img.setAttribute(\"data-action\", \"zoom\");\n\n            this.wrap.parentNode.insertBefore(this.img, this.wrap);\n            this.wrap.parentNode.removeChild(this.wrap);\n\n            document.body.removeChild(this.overlay);\n            document.body.classList.remove(\"zoom-overlay-transitioning\");\n        }\n    }, {\n        key: \"close\",\n        value: function close() {\n            var _this = this;\n\n            document.body.classList.add(\"zoom-overlay-transitioning\");\n            this.img.style.transform = this.preservedTransform;\n            if (this.img.style.length === 0) {\n                this.img.removeAttribute(\"style\");\n            }\n            this.wrap.style.transform = \"none\";\n\n            once(this.img, \"transitionend\", function () {\n                _this.dispose();\n                // XXX(nishanths): remove class should happen after dispose. Otherwise,\n                // a new click event could fire and create a duplicate ZoomImage for\n                // the same <img> element.\n                document.body.classList.remove(\"zoom-overlay-open\");\n            });\n        }\n    }]);\n\n    return ZoomImage;\n}();\n\n// Setup code\n\n\nvar prepareZoom = function prepareZoom(e) {\n    if (document.body.classList.contains(\"zoom-overlay-open\")) {\n        return;\n    }\n\n    if (e.metaKey || e.ctrlKey) {\n        window.open(e.target.getAttribute(\"data-original\") || e.target.src, \"_blank\");\n        return;\n    }\n\n    if (e.target.width >= windowWidth - offset) {\n        return;\n    }\n\n    closeCurrent(true);\n\n    current = new ZoomImage(e.target, offset);\n    current.zoom();\n\n    addCloseListeners();\n};\n\nvar closeCurrent = function closeCurrent(force) {\n    if (current == null) {\n        return;\n    }\n    if (force) {\n        current.dispose();\n    } else {\n        current.close();\n    }\n    removeCloseListeners();\n    current = null;\n};\n\nvar addCloseListeners = function addCloseListeners() {\n    document.addEventListener(\"scroll\", handleScroll);\n    document.addEventListener(\"keyup\", handleKeyup);\n    document.addEventListener(\"touchstart\", handleTouchStart);\n    document.addEventListener(\"click\", handleClick, true);\n};\n\nvar removeCloseListeners = function removeCloseListeners() {\n    document.removeEventListener(\"scroll\", handleScroll);\n    document.removeEventListener(\"keyup\", handleKeyup);\n    document.removeEventListener(\"touchstart\", handleTouchStart);\n    document.removeEventListener(\"click\", handleClick, true);\n};\n\nvar handleScroll = function handleScroll() {\n    if (initialScrollPos == -1) {\n        initialScrollPos = window.pageYOffset;\n    }\n\n    var deltaY = Math.abs(initialScrollPos - window.pageYOffset);\n    if (deltaY >= 40) {\n        closeCurrent();\n    }\n};\n\nvar handleKeyup = function handleKeyup(e) {\n    if (e.keyCode == 27) {\n        closeCurrent();\n    }\n};\n\nvar handleTouchStart = function handleTouchStart(e) {\n    var t = e.touches[0];\n    if (t == null) {\n        return;\n    }\n\n    initialTouchPos = t.pageY;\n    e.target.addEventListener(\"touchmove\", handleTouchMove);\n};\n\nvar handleTouchMove = function handleTouchMove(e) {\n    var t = e.touches[0];\n    if (t == null) {\n        return;\n    }\n\n    if (Math.abs(t.pageY - initialTouchPos) > 10) {\n        closeCurrent();\n        e.target.removeEventListener(\"touchmove\", handleTouchMove);\n    }\n};\n\nvar handleClick = function handleClick() {\n    closeCurrent();\n};\nvar setup = function setup(elem) {\n    elem.addEventListener(\"click\", prepareZoom);\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    var elems = document.querySelectorAll(\"img[data-action='zoom']\");\n    elems.forEach(function (e) {\n        return e.addEventListener(\"click\", prepareZoom);\n    });\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvem9vbS5qcz9hNTFhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUHVyZSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHpvb20uanMuXG4gKlxuICogT3JpZ2luYWwgcHJlYW1ibGU6XG4gKiB6b29tLmpzIC0gSXQncyB0aGUgYmVzdCB3YXkgdG8gem9vbSBhbiBpbWFnZVxuICogQHZlcnNpb24gdjAuMC4yXG4gKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vZmF0L3pvb20uanNcbiAqIEBsaWNlbnNlIE1JVFxuICpcbiAqIE5lZWRzIGEgcmVsYXRlZCBDU1MgZmlsZSB0byB3b3JrLiBTZWUgdGhlIFJFQURNRSBhdFxuICogaHR0cHM6Ly9naXRodWIuY29tL25pc2hhbnRocy96b29tLmpzIGZvciBtb3JlIGluZm8uXG4gKlxuICogVGhpcyBpcyBhIGZvcmsgb2YgdGhlIG9yaWdpbmFsIHpvb20uanMgaW1wbGVtZW50YXRpb24gYnkgQGZhdC5cbiAqIENvcHlyaWdodHMgZm9yIHRoZSBvcmlnaW5hbCBwcm9qZWN0IGFyZSBoZWxkIGJ5IEBmYXQuIEFsbCBvdGhlciBjb3B5cmlnaHRcbiAqIGZvciBjaGFuZ2VzIGluIHRoZSBmb3JrIGFyZSBoZWxkIGJ5IE5pc2hhbnRoIFNoYW5tdWdoYW0uXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEzIEBmYXRcbiAqIFRoZSBNSVQgTGljZW5zZS4gQ29weXJpZ2h0IMKpIDIwMTYgTmlzaGFudGggU2hhbm11Z2hhbS5cbiAqL1xuXG5cbnZhciBjdXJyZW50ID0gbnVsbDtcbnZhciBvZmZzZXQgPSA4MDtcbnZhciBpbml0aWFsU2Nyb2xsUG9zID0gLTE7XG52YXIgaW5pdGlhbFRvdWNoUG9zID0gLTE7XG52YXIgd2luZG93V2lkdGggPSAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuXG52YXIgZWxlbU9mZnNldCA9IGVsZW0gPT4ge1xuICAgIHZhciByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB2YXIgd2luID0gd2luZG93O1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcbiAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XG4gICAgfTtcbn07XG5cbnZhciBvbmNlID0gKGVsZW0sIHR5cGUsIGhhbmRsZXIpID0+IHtcbiAgICB2YXIgZm4gPSBlID0+IHtcbiAgICAgICAgZS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbik7XG4gICAgICAgIGhhbmRsZXIoKTtcbiAgICB9O1xuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbik7XG59O1xuXG5jbGFzcyBTaXplIHtcbiAgICBjb25zdHJ1Y3Rvcih3LCBoKSB7XG4gICAgICAgIHRoaXMudyA9IHc7XG4gICAgICAgIHRoaXMuaCA9IGg7XG4gICAgfVxufVxuXG5jbGFzcyBab29tSW1hZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGltZywgb2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuaW1nID0gaW1nO1xuICAgICAgICB0aGlzLnByZXNlcnZlZFRyYW5zZm9ybSA9IGltZy5zdHlsZS50cmFuc2Zvcm07XG4gICAgICAgIHRoaXMud3JhcCA9IG51bGw7XG4gICAgICAgIHRoaXMub3ZlcmxheSA9IG51bGw7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLndpbmRvd1dpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICB0aGlzLndpbmRvd0hlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgfVxuXG4gICAgZm9yY2VSZXBhaW50KCkge1xuICAgICAgICB2YXIgXyA9IHRoaXMuaW1nLm9mZnNldFdpZHRoOyBcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHpvb20oKSB7XG4gICAgICAgIHZhciBzaXplID0gbmV3IFNpemUodGhpcy5pbWcubmF0dXJhbFdpZHRoLCB0aGlzLmltZy5uYXR1cmFsSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLndyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLndyYXAuY2xhc3NMaXN0LmFkZChcInpvb20taW1nLXdyYXBcIik7XG4gICAgICAgIHRoaXMuaW1nLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMud3JhcCwgdGhpcy5pbWcpO1xuICAgICAgICB0aGlzLndyYXAuYXBwZW5kQ2hpbGQodGhpcy5pbWcpO1xuXG4gICAgICAgIHRoaXMuaW1nLmNsYXNzTGlzdC5hZGQoXCJ6b29tLWltZ1wiKTtcbiAgICAgICAgdGhpcy5pbWcuc2V0QXR0cmlidXRlKFwiZGF0YS1hY3Rpb25cIiwgXCJ6b29tLW91dFwiKTtcblxuICAgICAgICB0aGlzLm92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLm92ZXJsYXkuY2xhc3NMaXN0LmFkZChcInpvb20tb3ZlcmxheVwiKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm92ZXJsYXkpO1xuXG4gICAgICAgIHRoaXMuZm9yY2VSZXBhaW50KCk7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuY2FsY3VsYXRlU2NhbGUoc2l6ZSk7XG5cbiAgICAgICAgdGhpcy5mb3JjZVJlcGFpbnQoKTtcbiAgICAgICAgdGhpcy5hbmltYXRlKHNjYWxlKTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJ6b29tLW92ZXJsYXktb3BlblwiKTtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVTY2FsZShzaXplKSB7XG4gICAgICAgIHZhciBtYXhTY2FsZUZhY3RvciA9IHNpemUudyAvIHRoaXMuaW1nLndpZHRoO1xuXG4gICAgICAgIHZhciB2aWV3cG9ydFdpZHRoID0gKHRoaXMud2luZG93V2lkdGggLSB0aGlzLm9mZnNldCk7XG4gICAgICAgIHZhciB2aWV3cG9ydEhlaWdodCA9ICh0aGlzLndpbmRvd0hlaWdodCAtIHRoaXMub2Zmc2V0KTtcbiAgICAgICAgdmFyIGltYWdlQXNwZWN0UmF0aW8gPSBzaXplLncgLyBzaXplLmg7XG4gICAgICAgIHZhciB2aWV3cG9ydEFzcGVjdFJhdGlvID0gdmlld3BvcnRXaWR0aCAvIHZpZXdwb3J0SGVpZ2h0O1xuXG4gICAgICAgIGlmIChzaXplLncgPCB2aWV3cG9ydFdpZHRoICYmIHNpemUuaCA8IHZpZXdwb3J0SGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gbWF4U2NhbGVGYWN0b3I7XG4gICAgICAgIH0gZWxzZSBpZiAoaW1hZ2VBc3BlY3RSYXRpbyA8IHZpZXdwb3J0QXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgIHJldHVybiAodmlld3BvcnRIZWlnaHQgLyBzaXplLmgpICogbWF4U2NhbGVGYWN0b3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKHZpZXdwb3J0V2lkdGggLyBzaXplLncpICogbWF4U2NhbGVGYWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmltYXRlKHNjYWxlKSB7XG4gICAgICAgIHZhciBpbWFnZU9mZnNldCA9IGVsZW1PZmZzZXQodGhpcy5pbWcpO1xuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXG4gICAgICAgIHZhciB2aWV3cG9ydFggPSAodGhpcy53aW5kb3dXaWR0aCAvIDIpO1xuICAgICAgICB2YXIgdmlld3BvcnRZID0gc2Nyb2xsVG9wICsgKHRoaXMud2luZG93SGVpZ2h0IC8gMik7XG5cbiAgICAgICAgdmFyIGltYWdlQ2VudGVyWCA9IGltYWdlT2Zmc2V0LmxlZnQgKyAodGhpcy5pbWcud2lkdGggLyAyKTtcbiAgICAgICAgdmFyIGltYWdlQ2VudGVyWSA9IGltYWdlT2Zmc2V0LnRvcCArICh0aGlzLmltZy5oZWlnaHQgLyAyKTtcblxuICAgICAgICB2YXIgdHggPSB2aWV3cG9ydFggLSBpbWFnZUNlbnRlclg7XG4gICAgICAgIHZhciB0eSA9IHZpZXdwb3J0WSAtIGltYWdlQ2VudGVyWTtcbiAgICAgICAgdmFyIHR6ID0gMDtcblxuICAgICAgICB2YXIgaW1nVHIgPSBgc2NhbGUoJHtzY2FsZX0pYDtcbiAgICAgICAgdmFyIHdyYXBUciA9IGB0cmFuc2xhdGUzZCgke3R4fXB4LCAke3R5fXB4LCAke3R6fXB4KWA7XG5cbiAgICAgICAgdGhpcy5pbWcuc3R5bGUudHJhbnNmb3JtID0gaW1nVHI7XG4gICAgICAgIHRoaXMud3JhcC5zdHlsZS50cmFuc2Zvcm0gPSB3cmFwVHI7XG4gICAgfVxuXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMud3JhcCA9PSBudWxsIHx8IHRoaXMud3JhcC5wYXJlbnROb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmltZy5jbGFzc0xpc3QucmVtb3ZlKFwiem9vbS1pbWdcIik7XG4gICAgICAgIHRoaXMuaW1nLnNldEF0dHJpYnV0ZShcImRhdGEtYWN0aW9uXCIsIFwiem9vbVwiKTtcblxuICAgICAgICB0aGlzLndyYXAucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5pbWcsIHRoaXMud3JhcCk7XG4gICAgICAgIHRoaXMud3JhcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMud3JhcCk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLm92ZXJsYXkpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJ6b29tLW92ZXJsYXktdHJhbnNpdGlvbmluZ1wiKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiem9vbS1vdmVybGF5LXRyYW5zaXRpb25pbmdcIik7XG4gICAgICAgIHRoaXMuaW1nLnN0eWxlLnRyYW5zZm9ybSA9IHRoaXMucHJlc2VydmVkVHJhbnNmb3JtO1xuICAgICAgICBpZiAodGhpcy5pbWcuc3R5bGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmltZy5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndyYXAuc3R5bGUudHJhbnNmb3JtID0gXCJub25lXCI7XG5cbiAgICAgICAgb25jZSh0aGlzLmltZywgXCJ0cmFuc2l0aW9uZW5kXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgLy8gWFhYKG5pc2hhbnRocyk6IHJlbW92ZSBjbGFzcyBzaG91bGQgaGFwcGVuIGFmdGVyIGRpc3Bvc2UuIE90aGVyd2lzZSxcbiAgICAgICAgICAgIC8vIGEgbmV3IGNsaWNrIGV2ZW50IGNvdWxkIGZpcmUgYW5kIGNyZWF0ZSBhIGR1cGxpY2F0ZSBab29tSW1hZ2UgZm9yXG4gICAgICAgICAgICAvLyB0aGUgc2FtZSA8aW1nPiBlbGVtZW50LlxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiem9vbS1vdmVybGF5LW9wZW5cIik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG4vLyBTZXR1cCBjb2RlXG5cblxudmFyIHByZXBhcmVab29tID0gZSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiem9vbS1vdmVybGF5LW9wZW5cIikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChlLm1ldGFLZXkgfHwgZS5jdHJsS2V5KSB7XG4gICAgICAgIHdpbmRvdy5vcGVuKChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW9yaWdpbmFsXCIpIHx8IGUudGFyZ2V0LnNyYyksIFwiX2JsYW5rXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGUudGFyZ2V0LndpZHRoID49IHdpbmRvd1dpZHRoIC0gb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjbG9zZUN1cnJlbnQodHJ1ZSk7XG5cbiAgICBjdXJyZW50ID0gbmV3IFpvb21JbWFnZShlLnRhcmdldCwgb2Zmc2V0KTtcbiAgICBjdXJyZW50Lnpvb20oKTtcblxuICAgIGFkZENsb3NlTGlzdGVuZXJzKCk7XG59O1xuXG52YXIgY2xvc2VDdXJyZW50ID0gZm9yY2UgPT4ge1xuICAgIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZm9yY2UpIHtcbiAgICAgICAgY3VycmVudC5kaXNwb3NlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudC5jbG9zZSgpO1xuICAgIH1cbiAgICByZW1vdmVDbG9zZUxpc3RlbmVycygpO1xuICAgIGN1cnJlbnQgPSBudWxsO1xufTtcblxudmFyIGFkZENsb3NlTGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgaGFuZGxlS2V5dXApO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGhhbmRsZVRvdWNoU3RhcnQpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVDbGljaywgdHJ1ZSk7XG59O1xuXG52YXIgcmVtb3ZlQ2xvc2VMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBoYW5kbGVLZXl1cCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgaGFuZGxlVG91Y2hTdGFydCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsaWNrLCB0cnVlKTtcbn07XG5cbnZhciBoYW5kbGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxTY3JvbGxQb3MgPT0gLTEpIHtcbiAgICAgICAgaW5pdGlhbFNjcm9sbFBvcyA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICB9XG5cbiAgICB2YXIgZGVsdGFZID0gTWF0aC5hYnMoaW5pdGlhbFNjcm9sbFBvcyAtIHdpbmRvdy5wYWdlWU9mZnNldCk7XG4gICAgaWYgKGRlbHRhWSA+PSA0MCkge1xuICAgICAgICBjbG9zZUN1cnJlbnQoKTtcbiAgICB9XG59O1xuXG52YXIgaGFuZGxlS2V5dXAgPSBlID0+IHtcbiAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XG4gICAgICAgIGNsb3NlQ3VycmVudCgpO1xuICAgIH1cbn07XG5cbnZhciBoYW5kbGVUb3VjaFN0YXJ0ID0gZSA9PiB7XG4gICAgdmFyIHQgPSBlLnRvdWNoZXNbMF07XG4gICAgaWYgKHQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW5pdGlhbFRvdWNoUG9zID0gdC5wYWdlWTtcbiAgICBlLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIGhhbmRsZVRvdWNoTW92ZSk7XG59O1xuXG52YXIgaGFuZGxlVG91Y2hNb3ZlID0gZSA9PiB7XG4gICAgdmFyIHQgPSBlLnRvdWNoZXNbMF07XG4gICAgaWYgKHQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKE1hdGguYWJzKHQucGFnZVkgLSBpbml0aWFsVG91Y2hQb3MpID4gMTApIHtcbiAgICAgICAgY2xvc2VDdXJyZW50KCk7XG4gICAgICAgIGUudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgaGFuZGxlVG91Y2hNb3ZlKTtcbiAgICB9XG59O1xuXG52YXIgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7XG4gICAgY2xvc2VDdXJyZW50KCk7XG59O1xudmFyIHNldHVwID0gKGVsZW0pID0+IHtcbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmVwYXJlWm9vbSk7XG59O1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgdmFyIGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImltZ1tkYXRhLWFjdGlvbj0nem9vbSddXCIpO1xuICAgIGVsZW1zLmZvckVhY2goZSA9PiBlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwcmVwYXJlWm9vbSkpO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3pvb20uanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ })
/******/ ]);